<!doctype html>
<html lang="ja">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, viewport-fit=cover">
  <meta name="theme-color" content="#000">
  <title>Gray‑Scott Visualizer — Imperfect (Mobile)</title>
  <style>
    :root { --gap: 12px; --edge:#2a2a2a; --panel:#111; }
    * { box-sizing: border-box; }
    html, body { min-height: 100svh; height: auto; }
    body {
      margin:0; background:#000; color:#fff;
      font-family: ui-sans-serif, -apple-system, Segoe UI, Roboto, "Noto Sans JP", sans-serif;
      display:flex; flex-direction:column; align-items:center; padding:16px; gap:var(--gap);
    }
    #stage { width:100%; max-width:560px; margin:0 auto; display:flex; flex-direction:column; gap:var(--gap); }
    #view-sticky { position:sticky; top: env(safe-area-inset-top, 0px); z-index:1; background:#000; }
    canvas { display:block; width:100%; aspect-ratio:1/1; background:#000; border-radius:14px; box-shadow:0 0 0 1px #333; image-rendering:pixelated; }
    #lcd, .btn { width:100%; min-height:52px; border:1px solid var(--edge); border-radius:14px; background:var(--panel); display:flex; align-items:center; justify-content:center; padding:10px 14px; }
    #lcd { overflow:hidden; }
    #lcd .track { display:inline-block; white-space:nowrap; padding-left:100%; animation:lcd 14s linear infinite; }
    #lcd span { display:inline-block; padding:0 2rem; color:#cfcfd4; }
    @keyframes lcd { 0%{transform:translateX(0%)} 100%{transform:translateX(-100%)} }
    .stack { display:flex; flex-direction:column; gap:var(--gap); }
    input[type=file], audio { display:none; }
    footer { opacity:.5; font-size:12px; }
  </style>
</head>
<body>
  <div id="stage">
    <div id="view-sticky">
      <canvas id="canvas"></canvas>
    </div>

    <div id="lcd"><div class="track"><span id="song1">NO FILES LOADED</span><span id="song2" aria-hidden="true">NO FILES LOADED</span></div></div>

    <div class="stack">
      <label id="pick" for="file" class="btn" role="button" tabindex="0">SELECT MUSIC FOLDER / FILES</label>
      <input id="file" type="file" accept="audio/*" multiple webkitdirectory directory>
      <button id="play" class="btn">PLAY</button>
      <button id="pause" class="btn">PAUSE</button>
      <button id="prev" class="btn">PREV</button>
      <button id="next" class="btn">NEXT</button>
    </div>
  </div>

  <footer>Mobile build • 20251108-125211</footer>

  <script src="./main.js"></script>
</body>
</html>
